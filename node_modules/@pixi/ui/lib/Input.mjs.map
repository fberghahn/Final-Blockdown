{"version":3,"file":"Input.mjs","sources":["../src/Input.ts"],"sourcesContent":["import {\n    AnyTextStyle,\n    Container,\n    DestroyOptions,\n    Graphics,\n    isMobile,\n    NineSliceSprite,\n    Sprite,\n    Text,\n    TextStyleOptions,\n    Texture,\n    Ticker,\n} from 'pixi.js';\nimport { Signal } from 'typed-signals';\nimport { PixiText, PixiTextClass, PixiTextStyle } from './utils/helpers/text';\nimport { getView } from './utils/helpers/view';\nimport { Padding } from './utils/HelpTypes';\n\ntype ViewType = Sprite | Graphics | string;\n\nexport type InputOptions = {\n    bg: ViewType;\n    textStyle?: PixiTextStyle;\n    TextClass?: PixiTextClass;\n    placeholder?: string;\n    value?: string;\n    maxLength?: number;\n    align?: 'left' | 'center' | 'right';\n    padding?: Padding;\n    cleanOnFocus?: boolean;\n    nineSliceSprite?: [number, number, number, number];\n    addMask?: boolean;\n};\n\n/**\n * Container-based component that creates an input to read the user's text.\n * @example\n * new Input({\n *     bg: Sprite.from('input.png'),\n *     placeholder: 'Enter text',\n *     padding: {\n *      top: 11,\n *      right: 11,\n *      bottom: 11,\n *      left: 11\n *     } // alternatively you can use [11, 11, 11, 11] or [11, 11] or just 11\n * });\n */\nexport class Input extends Container\n{\n    protected _bg?: Container | NineSliceSprite | Graphics;\n    protected inputMask: Container | NineSliceSprite | Graphics;\n    protected _cursor: Sprite;\n    protected inputField: PixiText;\n    protected placeholder: PixiText;\n    protected editing = false;\n    protected tick = 0;\n\n    protected activation = false;\n    protected readonly options: InputOptions;\n    protected input: HTMLInputElement;\n\n    protected handleActivationBinding = this.handleActivation.bind(this);\n    protected onKeyUpBinding = this.onKeyUp.bind(this);\n    protected stopEditingBinding = this.stopEditing.bind(this);\n\n    /** Fires when input loses focus. */\n    onEnter: Signal<(text: string) => void>;\n\n    /** Fires every time input string is changed. */\n    onChange: Signal<(text: string) => void>;\n\n    /** Top side padding */\n    paddingTop = 0;\n\n    /** Right side padding */\n    paddingRight = 0;\n\n    /** Bottom side padding */\n    paddingBottom = 0;\n\n    /** Left side padding */\n    paddingLeft = 0;\n\n    /**\n     * Creates an input.\n     * @param { number } options - Options object to use.\n     * @param { Sprite | Graphics | string } options.bg - Background of the Input.\n     * @param { PixiTextStyle } options.textStyle - Text style of the Input.\n     * @param { string } options.placeholder - Placeholder of the Input.\n     * @param { string } options.value - Value of the Input.\n     * @param { number } options.maxLength - Max length of the Input.\n     * @param { 'left' | 'center' | 'right' } options.align - Align of the Input.\n     * @param { Padding } options.padding - Padding of the Input.\n     * @param { number } options.padding.top - Top padding of the Input.\n     * @param { number } options.padding.right - Right padding of the Input.\n     * @param { number } options.padding.bottom - Bottom padding of the Input.\n     * @param { number } options.padding.left - Left padding of the Input.\n     * @param { boolean } options.cleanOnFocus - Clean Input on focus.\n     * @param { Array } options.nineSliceSprite - NineSliceSprite values for bg and fill ([number, number, number, number]).\n     */\n    constructor(options: InputOptions)\n    {\n        super();\n\n        this.options = options;\n\n        this.options = options;\n        this.padding = options.padding;\n\n        this.cursor = 'text';\n        this.interactive = true;\n\n        this.on('pointertap', () =>\n        {\n            this.activation = true;\n            isMobile.any && this.handleActivation(); // handleActivation always call before this function called.\n        });\n\n        if (isMobile.any)\n        {\n            window.addEventListener('touchstart', this.handleActivationBinding);\n        }\n        else if (!isMobile.any)\n        {\n            window.addEventListener('click', this.handleActivationBinding);\n\n            window.addEventListener('keyup', this.onKeyUpBinding);\n        }\n\n        this.onEnter = new Signal();\n        this.onChange = new Signal();\n\n        Ticker.shared.add((ticker) => this.update(ticker.deltaTime));\n\n        if (options.bg)\n        {\n            this.bg = options.bg;\n        }\n        else\n        {\n            console.error('Input: bg is not defined, please define it.');\n        }\n    }\n\n    protected onKeyUp(e: KeyboardEvent)\n    {\n        const key = e.key;\n\n        if (key === 'Backspace')\n        {\n            this._delete();\n        }\n        else if (key === 'Escape' || key === 'Enter')\n        {\n            this.stopEditing();\n        }\n        else if (key.length === 1) this._add(key);\n    }\n\n    protected init()\n    {\n        const options = this.options;\n\n        const defaultTextStyle = {\n            fill: 0x000000,\n            align: 'center'\n        } as TextStyleOptions;\n\n        this.options.textStyle = options.textStyle ?? defaultTextStyle;\n        this.options.TextClass = options.TextClass ?? Text;\n        const textStyle = { ...defaultTextStyle, ...options.textStyle };\n\n        this.inputField = new this.options.TextClass({ text: '', style: textStyle });\n\n        this._cursor = new Sprite(Texture.WHITE);\n\n        this._cursor.tint = Number((options.textStyle as AnyTextStyle).fill) || 0x000000;\n        this._cursor.anchor.set(0.5);\n        this._cursor.width = 2;\n        this._cursor.height = this.inputField.height * 0.8;\n        this._cursor.alpha = 0;\n\n        this.placeholder = new this.options.TextClass({ text: options.placeholder, style: textStyle ?? defaultTextStyle });\n        this.placeholder.visible = !!options.placeholder;\n\n        this.addChild(this.inputField, this.placeholder, this._cursor);\n\n        this.value = options.value ?? '';\n\n        this.align();\n    }\n\n    set bg(bg: ViewType)\n    {\n        if (this._bg)\n        {\n            this._bg.destroy();\n        }\n\n        if (this.options?.nineSliceSprite)\n        {\n            if (typeof bg === 'string')\n            {\n                this._bg = new NineSliceSprite({\n                    texture: Texture.from(bg),\n                    leftWidth: this.options.nineSliceSprite[0],\n                    topHeight: this.options.nineSliceSprite[1],\n                    rightWidth: this.options.nineSliceSprite[2],\n                    bottomHeight: this.options.nineSliceSprite[3],\n                });\n            }\n            else\n            {\n                console.warn('NineSliceSprite can not be used with views set as Container.');\n            }\n        }\n\n        if (!this._bg)\n        {\n            this._bg = getView(bg);\n        }\n\n        this._bg.cursor = 'text';\n        this._bg.interactive = true;\n\n        this.addChildAt(this._bg, 0);\n\n        if (!this.inputField)\n        {\n            this.init();\n        }\n\n        if (this.options.addMask)\n        {\n            if (this.inputMask)\n            {\n                this.inputField.mask = null;\n                this._cursor.mask = null;\n                this.inputMask.destroy();\n            }\n\n            if (this.options?.nineSliceSprite && typeof bg === 'string')\n            {\n                this.inputMask = new NineSliceSprite({\n                    texture: Texture.from(bg),\n                    leftWidth: this.options.nineSliceSprite[0],\n                    topHeight: this.options.nineSliceSprite[1],\n                    rightWidth: this.options.nineSliceSprite[2],\n                    bottomHeight: this.options.nineSliceSprite[3],\n                });\n            }\n            else\n                if (bg instanceof Sprite)\n                {\n                    this.inputMask = new Sprite(bg.texture);\n                }\n                else\n                    if (bg instanceof Graphics)\n                    {\n                        this.inputMask = bg.clone(true);\n                    }\n                    else\n                    {\n                        this.inputMask = getView(bg);\n                    }\n\n            this.inputField.mask = this.inputMask;\n\n            this._cursor.mask = this.inputMask;\n\n            this.addChildAt(this.inputMask, 0);\n        }\n    }\n\n    get bg(): Container | string\n    {\n        return this._bg;\n    }\n\n    protected _add(key: string): void\n    {\n        if (!this.editing)\n        {\n            return;\n        }\n\n        if (this.options.maxLength && this.value.length >= this.options.maxLength)\n        {\n            return;\n        }\n\n        this.value = this.value + key;\n\n        this.onChange.emit(this.value);\n    }\n\n    protected _delete(): void\n    {\n        if (!this.editing || this.value.length === 0) return;\n        const array = this.value.split('');\n\n        array.pop();\n        this.value = array.join('');\n\n        this.onChange.emit(this.value);\n    }\n\n    protected _startEditing(): void\n    {\n        if (this.options.cleanOnFocus)\n        {\n            this.value = '';\n        }\n\n        this.tick = 0;\n        this.editing = true;\n        this.placeholder.visible = false;\n        this._cursor.alpha = 1;\n\n        if (isMobile.any)\n        {\n            this.createInputField();\n        }\n\n        this.align();\n    }\n\n    protected createInputField()\n    {\n        if (this.input)\n        {\n            this.input.removeEventListener('blur', this.stopEditingBinding);\n            this.input.removeEventListener('keyup', this.onKeyUpBinding);\n\n            this.input?.blur();\n            this.input?.remove();\n            this.input = null;\n        }\n\n        const input: HTMLInputElement = document.createElement('input');\n\n        document.body.appendChild(input);\n\n        input.style.position = 'fixed';\n        input.style.left = `${this.getGlobalPosition().x}px`;\n        input.style.top = `${this.getGlobalPosition().y}px`;\n        input.style.opacity = '0.0000001';\n        input.style.width = `${this._bg.width}px`;\n        input.style.height = `${this._bg.height}px`;\n        input.style.border = 'none';\n        input.style.outline = 'none';\n        input.style.background = 'white';\n\n        // This hack fixes instant hiding keyboard on mobile after showing it\n        if (isMobile.android.device)\n        {\n            setTimeout(() =>\n            {\n                input.focus();\n                input.click();\n            }, 100);\n        }\n        else\n        {\n            input.focus();\n            input.click();\n        }\n\n        input.addEventListener('blur', this.stopEditingBinding);\n        input.addEventListener('keyup', this.onKeyUpBinding);\n\n        this.input = input;\n\n        this.align();\n    }\n\n    protected handleActivation()\n    {\n        this.stopEditing();\n\n        if (this.activation)\n        {\n            this._startEditing();\n\n            this.activation = false;\n        }\n    }\n\n    protected stopEditing(): void\n    {\n        if (!this.editing) return;\n\n        this._cursor.alpha = 0;\n        this.editing = false;\n\n        if (this.inputField.text === '')\n        {\n            this.placeholder.visible = true;\n        }\n\n        if (this.value.length === 0) this.placeholder.visible = true;\n\n        if (isMobile.any)\n        {\n            this.input?.blur();\n            this.input?.remove();\n            this.input = null;\n        }\n\n        this.align();\n\n        this.onEnter.emit(this.value);\n    }\n\n    protected update(dt: number): void\n    {\n        if (!this.editing) return;\n        this.tick += dt * 0.1;\n        this._cursor.alpha = Math.round((Math.sin(this.tick) * 0.5) + 0.5);\n    }\n\n    protected align()\n    {\n        if (!this._bg) return;\n\n        const align = this.getAlign();\n\n        this.inputField.anchor.set(align, 0.5);\n        this.inputField.x = (this._bg.width * align) + (align === 1 ? -this.paddingRight : this.paddingLeft);\n        this.inputField.y = (this._bg.height / 2) + this.paddingTop - this.paddingBottom;\n\n        this.placeholder.anchor.set(align, 0.5);\n        this.placeholder.x = (this._bg.width * align) + (align === 1 ? -this.paddingRight : this.paddingLeft);\n        this.placeholder.y = this._bg.height / 2;\n\n        this._cursor.x = this.getCursorPosX();\n        this._cursor.y = this.inputField.y;\n    }\n\n    protected getAlign(): 0 | 1 | 0.5\n    {\n        const maxWidth = this._bg.width * 0.95;\n        const paddings = this.paddingLeft + this.paddingRight - 10;\n        const isOverflowed = this.inputField.width + paddings > maxWidth;\n\n        if (isOverflowed)\n        {\n            return this.editing ? 1 : 0;\n        }\n        switch (this.options.align)\n        {\n            case 'left':\n                return 0;\n            case 'center':\n                return 0.5;\n            case 'right':\n                return 1;\n            default:\n                return 0;\n        }\n    }\n\n    protected getCursorPosX()\n    {\n        const align = this.getAlign();\n\n        switch (align)\n        {\n            case 0:\n                return this.inputField.x + this.inputField.width;\n            case 0.5:\n                return this.inputField.x + (this.inputField.width * 0.5);\n            case 1:\n                return this.inputField.x;\n            default:\n                return 0;\n        }\n    }\n\n    /** Sets the input text. */\n    set value(text: string)\n    {\n        this.inputField.text = text;\n\n        if (text.length !== 0)\n        {\n            this.placeholder.visible = false;\n        }\n        else\n        {\n            this.placeholder.visible = !this.editing;\n        }\n\n        this.align();\n    }\n\n    /** Return text of the input. */\n    get value(): string\n    {\n        return this.inputField.text;\n    }\n\n    /**\n     * Set paddings\n     * @param value - number, array of 4 numbers or object with keys: top, right, bottom, left\n     * or: [top, right, bottom, left]\n     * or: [top&bottom, right&left]\n     * or: {\n     *  left: 10,\n     *  right: 10,\n     *  top: 10,\n     *  bottom: 10,\n     * }\n     */\n    set padding(value: Padding)\n    {\n        if (typeof value === 'number')\n        {\n            this.paddingTop = value;\n            this.paddingRight = value;\n            this.paddingBottom = value;\n            this.paddingLeft = value;\n        }\n\n        if (Array.isArray(value))\n        {\n            this.paddingTop = value[0] ?? 0;\n            this.paddingRight = value[1] ?? value[0] ?? 0;\n            this.paddingBottom = value[2] ?? value[0] ?? 0;\n            this.paddingLeft = value[3] ?? value[1] ?? value[0] ?? 0;\n        }\n        else if (typeof value === 'object')\n        {\n            this.paddingTop = value.top ?? 0;\n            this.paddingRight = value.right ?? 0;\n            this.paddingBottom = value.bottom ?? 0;\n            this.paddingLeft = value.left ?? 0;\n        }\n    }\n\n    // Return array of paddings [top, right, bottom, left]\n    get padding(): [number, number, number, number]\n    {\n        return [this.paddingTop, this.paddingRight, this.paddingBottom, this.paddingLeft];\n    }\n\n    override destroy(options?: DestroyOptions | boolean)\n    {\n        this.off('pointertap');\n\n        if (isMobile.any)\n        {\n            window.removeEventListener('touchstart', this.handleActivationBinding);\n        }\n        else if (!isMobile.any)\n        {\n            window.removeEventListener('click', this.handleActivationBinding);\n\n            window.removeEventListener('keyup', this.onKeyUpBinding);\n        }\n\n        super.destroy(options);\n    }\n\n    /**\n     * Sets width of a Input.\n     * If nineSliceSprite is set, then width will be set to nineSliceSprite.\n     * If nineSliceSprite is not set, then width will control components width as Container.\n     * @param width - Width value.\n     */\n    override set width(width: number)\n    {\n        if (this.options?.nineSliceSprite)\n        {\n            if (this._bg)\n            {\n                this._bg.width = width;\n            }\n\n            if (this.inputMask)\n            {\n                this.inputMask.width = width - this.paddingLeft - this.paddingRight;\n                this.inputMask.x = this.paddingLeft;\n            }\n\n            this.align();\n        }\n        else\n        {\n            super.width = width;\n        }\n    }\n\n    /** Gets width of Input. */\n    override get width(): number\n    {\n        return super.width;\n    }\n\n    /**\n     * Sets height of a Input.\n     * If nineSliceSprite is set, then height will be set to nineSliceSprite.\n     * If nineSliceSprite is not set, then height will control components height as Container.\n     * @param height - Height value.\n     */\n    override set height(height: number)\n    {\n        if (this.options?.nineSliceSprite)\n        {\n            if (this._bg)\n            {\n                this._bg.height = height;\n            }\n\n            if (this.inputMask)\n            {\n                this.inputMask.height = height - this.paddingTop - this.paddingBottom;\n                this.inputMask.y = this.paddingTop;\n            }\n\n            this.align();\n        }\n        else\n        {\n            super.height = height;\n        }\n    }\n\n    /** Gets height of Input. */\n    override get height(): number\n    {\n        return super.height;\n    }\n}\n"],"names":[],"mappings":"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"}