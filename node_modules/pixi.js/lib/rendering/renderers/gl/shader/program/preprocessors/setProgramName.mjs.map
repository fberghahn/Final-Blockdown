{"version":3,"file":"setProgramName.mjs","sources":["../../../../../../../src/rendering/renderers/gl/shader/program/preprocessors/setProgramName.ts"],"sourcesContent":["const fragmentNameCache: { [key: string]: number } = {};\nconst VertexNameCache: { [key: string]: number } = {};\n\nexport function setProgramName(src: string, { name = `pixi-program` }: { name: string; }, isFragment = true)\n{\n    name = name.replace(/\\s+/g, '-');\n\n    name += isFragment ? '-fragment' : '-vertex';\n\n    const nameCache = isFragment ? fragmentNameCache : VertexNameCache;\n\n    if (nameCache[name])\n    {\n        nameCache[name]++;\n        name += `-${nameCache[name]}`;\n    }\n    else\n    {\n        nameCache[name] = 1;\n    }\n\n    // if it already contains the define return\n    if (src.indexOf('#define SHADER_NAME') !== -1) return src;\n\n    const shaderName = `#define SHADER_NAME ${name}`;\n\n    return `${shaderName}\\n${src}`;\n}\n"],"names":[],"mappings":";AAAA,MAAM,oBAA+C,EAAC,CAAA;AACtD,MAAM,kBAA6C,EAAC,CAAA;AAE7C,SAAS,eAAe,GAAa,EAAA,EAAE,OAAO,CAAe,YAAA,CAAA,EAAA,EAAsB,aAAa,IACvG,EAAA;AACI,EAAO,IAAA,GAAA,IAAA,CAAK,OAAQ,CAAA,MAAA,EAAQ,GAAG,CAAA,CAAA;AAE/B,EAAA,IAAA,IAAQ,aAAa,WAAc,GAAA,SAAA,CAAA;AAEnC,EAAM,MAAA,SAAA,GAAY,aAAa,iBAAoB,GAAA,eAAA,CAAA;AAEnD,EAAI,IAAA,SAAA,CAAU,IAAI,CAClB,EAAA;AACI,IAAA,SAAA,CAAU,IAAI,CAAA,EAAA,CAAA;AACd,IAAQ,IAAA,IAAA,CAAA,CAAA,EAAI,SAAU,CAAA,IAAI,CAAC,CAAA,CAAA,CAAA;AAAA,GAG/B,MAAA;AACI,IAAA,SAAA,CAAU,IAAI,CAAI,GAAA,CAAA,CAAA;AAAA,GACtB;AAGA,EAAI,IAAA,GAAA,CAAI,OAAQ,CAAA,qBAAqB,CAAM,KAAA,CAAA,CAAA;AAAI,IAAO,OAAA,GAAA,CAAA;AAEtD,EAAM,MAAA,UAAA,GAAa,uBAAuB,IAAI,CAAA,CAAA,CAAA;AAE9C,EAAA,OAAO,GAAG,UAAU,CAAA;AAAA,EAAK,GAAG,CAAA,CAAA,CAAA;AAChC;;;;"}