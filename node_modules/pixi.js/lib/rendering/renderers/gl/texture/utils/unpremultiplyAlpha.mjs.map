{"version":3,"file":"unpremultiplyAlpha.mjs","sources":["../../../../../../src/rendering/renderers/gl/texture/utils/unpremultiplyAlpha.ts"],"sourcesContent":["export function unpremultiplyAlpha(pixels: Uint8Array | Uint8ClampedArray): void\n{\n    if (pixels instanceof Uint8ClampedArray)\n    {\n        pixels = new Uint8Array(pixels.buffer);\n    }\n\n    const n = pixels.length;\n\n    for (let i = 0; i < n; i += 4)\n    {\n        const alpha = pixels[i + 3];\n\n        if (alpha !== 0)\n        {\n            const a = 255.001 / alpha;\n\n            pixels[i] = (pixels[i] * a) + 0.5;\n            pixels[i + 1] = (pixels[i + 1] * a) + 0.5;\n            pixels[i + 2] = (pixels[i + 2] * a) + 0.5;\n        }\n    }\n}\n"],"names":[],"mappings":";AAAO,SAAS,mBAAmB,MACnC,EAAA;AACI,EAAA,IAAI,kBAAkB,iBACtB,EAAA;AACI,IAAS,MAAA,GAAA,IAAI,UAAW,CAAA,MAAA,CAAO,MAAM,CAAA,CAAA;AAAA,GACzC;AAEA,EAAA,MAAM,IAAI,MAAO,CAAA,MAAA,CAAA;AAEjB,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,CAAA,EAAG,KAAK,CAC5B,EAAA;AACI,IAAM,MAAA,KAAA,GAAQ,MAAO,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAE1B,IAAA,IAAI,UAAU,CACd,EAAA;AACI,MAAA,MAAM,IAAI,OAAU,GAAA,KAAA,CAAA;AAEpB,MAAA,MAAA,CAAO,CAAC,CAAA,GAAK,MAAO,CAAA,CAAC,IAAI,CAAK,GAAA,GAAA,CAAA;AAC9B,MAAA,MAAA,CAAO,IAAI,CAAC,CAAA,GAAK,OAAO,CAAI,GAAA,CAAC,IAAI,CAAK,GAAA,GAAA,CAAA;AACtC,MAAA,MAAA,CAAO,IAAI,CAAC,CAAA,GAAK,OAAO,CAAI,GAAA,CAAC,IAAI,CAAK,GAAA,GAAA,CAAA;AAAA,KAC1C;AAAA,GACJ;AACJ;;;;"}