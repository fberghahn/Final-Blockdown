{"version":3,"file":"setUvs.mjs","sources":["../../../../src/scene/sprite-tiling/utils/setUvs.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport { applyMatrix } from './applyMatrix';\n\nimport type { TilingSprite } from '../TilingSprite';\n\nexport function setUvs(tilingSprite: TilingSprite, uvs: Float32Array)\n{\n    const texture = tilingSprite.texture;\n\n    const width = texture.frame.width;\n    const height = texture.frame.height;\n\n    let anchorX = 0;\n    let anchorY = 0;\n\n    if (tilingSprite._applyAnchorToTexture)\n    {\n        anchorX = tilingSprite.anchor.x;\n        anchorY = tilingSprite.anchor.y;\n    }\n\n    uvs[0] = uvs[6] = -anchorX;\n    uvs[2] = uvs[4] = 1 - anchorX;\n    uvs[1] = uvs[3] = -anchorY;\n    uvs[5] = uvs[7] = 1 - anchorY;\n\n    const textureMatrix = Matrix.shared;\n\n    textureMatrix.copyFrom(tilingSprite._tileTransform.matrix);\n\n    textureMatrix.tx /= tilingSprite.width;\n    textureMatrix.ty /= tilingSprite.height;\n\n    textureMatrix.invert();\n\n    textureMatrix.scale(tilingSprite.width / width, tilingSprite.height / height);\n\n    applyMatrix(uvs, 2, 0, textureMatrix);\n}\n"],"names":[],"mappings":";;;;AAKgB,SAAA,MAAA,CAAO,cAA4B,GACnD,EAAA;AACI,EAAA,MAAM,UAAU,YAAa,CAAA,OAAA,CAAA;AAE7B,EAAM,MAAA,KAAA,GAAQ,QAAQ,KAAM,CAAA,KAAA,CAAA;AAC5B,EAAM,MAAA,MAAA,GAAS,QAAQ,KAAM,CAAA,MAAA,CAAA;AAE7B,EAAA,IAAI,OAAU,GAAA,CAAA,CAAA;AACd,EAAA,IAAI,OAAU,GAAA,CAAA,CAAA;AAEd,EAAA,IAAI,aAAa,qBACjB,EAAA;AACI,IAAA,OAAA,GAAU,aAAa,MAAO,CAAA,CAAA,CAAA;AAC9B,IAAA,OAAA,GAAU,aAAa,MAAO,CAAA,CAAA,CAAA;AAAA,GAClC;AAEA,EAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,IAAI,CAAC,OAAA,CAAA;AACnB,EAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,IAAI,CAAI,GAAA,OAAA,CAAA;AACtB,EAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,IAAI,CAAC,OAAA,CAAA;AACnB,EAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,IAAI,CAAI,GAAA,OAAA,CAAA;AAEtB,EAAA,MAAM,gBAAgB,MAAO,CAAA,MAAA,CAAA;AAE7B,EAAc,aAAA,CAAA,QAAA,CAAS,YAAa,CAAA,cAAA,CAAe,MAAM,CAAA,CAAA;AAEzD,EAAA,aAAA,CAAc,MAAM,YAAa,CAAA,KAAA,CAAA;AACjC,EAAA,aAAA,CAAc,MAAM,YAAa,CAAA,MAAA,CAAA;AAEjC,EAAA,aAAA,CAAc,MAAO,EAAA,CAAA;AAErB,EAAA,aAAA,CAAc,MAAM,YAAa,CAAA,KAAA,GAAQ,KAAO,EAAA,YAAA,CAAa,SAAS,MAAM,CAAA,CAAA;AAE5E,EAAY,WAAA,CAAA,GAAA,EAAK,CAAG,EAAA,CAAA,EAAG,aAAa,CAAA,CAAA;AACxC;;;;"}