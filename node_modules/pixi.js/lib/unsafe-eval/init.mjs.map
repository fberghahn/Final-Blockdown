{"version":3,"file":"init.mjs","sources":["../../src/unsafe-eval/init.ts"],"sourcesContent":["import { GlUboSystem } from '../rendering/renderers/gl/GlUboSystem';\nimport { GlShaderSystem } from '../rendering/renderers/gl/shader/GlShaderSystem';\nimport { GlUniformGroupSystem } from '../rendering/renderers/gl/shader/GlUniformGroupSystem';\nimport { GpuUboSystem } from '../rendering/renderers/gpu/GpuUboSystem';\nimport { UboSystem } from '../rendering/renderers/shared/shader/UboSystem';\nimport { AbstractRenderer } from '../rendering/renderers/shared/system/AbstractRenderer';\nimport { generateShaderSyncPolyfill } from './shader/generateShaderSyncPolyfill';\nimport {\n    generateUboSyncPolyfillSTD40,\n    generateUboSyncPolyfillWGSL\n} from './ubo/generateUboSyncPolyfill';\nimport { generateUniformsSyncPolyfill } from './uniforms/generateUniformsSyncPolyfill';\n\nfunction selfInstall()\n{\n    Object.assign(AbstractRenderer.prototype, {\n        // override unsafeEval check, as we don't need to use it\n        _unsafeEvalCheck()\n        {\n            // Do nothing, don't throw error\n        },\n    });\n\n    Object.assign(UboSystem.prototype, {\n        // override unsafeEval check, as we don't need to use it\n        _systemCheck()\n        {\n            // Do nothing, don't throw error\n        },\n    });\n\n    Object.assign(GlUniformGroupSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateUniformsSync: generateUniformsSyncPolyfill,\n    });\n\n    Object.assign(GlUboSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateUboSync: generateUboSyncPolyfillSTD40,\n    });\n\n    Object.assign(GpuUboSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateUboSync: generateUboSyncPolyfillWGSL,\n    });\n\n    Object.assign(GlShaderSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateShaderSync: generateShaderSyncPolyfill,\n    });\n}\n\nselfInstall();\n"],"names":[],"mappings":";;;;;;;;;;;AAaA,SAAS,WACT,GAAA;AACI,EAAO,MAAA,CAAA,MAAA,CAAO,iBAAiB,SAAW,EAAA;AAAA;AAAA,IAEtC,gBACA,GAAA;AAAA,KAEA;AAAA,GACH,CAAA,CAAA;AAED,EAAO,MAAA,CAAA,MAAA,CAAO,UAAU,SAAW,EAAA;AAAA;AAAA,IAE/B,YACA,GAAA;AAAA,KAEA;AAAA,GACH,CAAA,CAAA;AAED,EAAO,MAAA,CAAA,MAAA,CAAO,qBAAqB,SAAW,EAAA;AAAA;AAAA,IAE1C,qBAAuB,EAAA,4BAAA;AAAA,GAC1B,CAAA,CAAA;AAED,EAAO,MAAA,CAAA,MAAA,CAAO,YAAY,SAAW,EAAA;AAAA;AAAA,IAEjC,gBAAkB,EAAA,4BAAA;AAAA,GACrB,CAAA,CAAA;AAED,EAAO,MAAA,CAAA,MAAA,CAAO,aAAa,SAAW,EAAA;AAAA;AAAA,IAElC,gBAAkB,EAAA,2BAAA;AAAA,GACrB,CAAA,CAAA;AAED,EAAO,MAAA,CAAA,MAAA,CAAO,eAAe,SAAW,EAAA;AAAA;AAAA,IAEpC,mBAAqB,EAAA,0BAAA;AAAA,GACxB,CAAA,CAAA;AACL,CAAA;AAEA,WAAY,EAAA"}